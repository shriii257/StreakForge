<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habit Report - Daily Habit Tracker</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/print.css" media="print">
</head>
<body>
    <div class="report-container">
        <!-- Controls (hidden when printing) -->
        <div class="report-controls no-print">
            <button id="printBtn" class="btn-primary">üñ®Ô∏è Print Report</button>
            <button id="backBtn" class="btn-secondary">‚Üê Back to Dashboard</button>
        </div>

        <!-- Report Header -->
        <div class="report-header">
            <div class="report-logo">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
                <h1>Daily Habit Tracker</h1>
            </div>
            <div class="report-info">
                <h2>Progress Report</h2>
                <p id="reportDate"></p>
            </div>
        </div>

        <!-- User Info -->
        <section class="report-section">
            <h3>User Information</h3>
            <div class="info-grid">
                <div class="info-item">
                    <strong>Name:</strong>
                    <span id="reportUserName">Loading...</span>
                </div>
                <div class="info-item">
                    <strong>Email:</strong>
                    <span id="reportUserEmail">Loading...</span>
                </div>
                <div class="info-item">
                    <strong>Report Generated:</strong>
                    <span id="reportGeneratedDate"></span>
                </div>
            </div>
        </section>

        <!-- Summary Statistics -->
        <section class="report-section">
            <h3>Summary Statistics</h3>
            <div class="summary-grid">
                <div class="summary-card">
                    <p class="summary-label">Total Habits</p>
                    <p class="summary-value" id="reportTotalHabits">0</p>
                </div>
                <div class="summary-card">
                    <p class="summary-label">Completed Today</p>
                    <p class="summary-value" id="reportCompletedToday">0</p>
                </div>
                <div class="summary-card">
                    <p class="summary-label">Completion Rate</p>
                    <p class="summary-value" id="reportCompletionRate">0%</p>
                </div>
                <div class="summary-card">
                    <p class="summary-label">Total Streak</p>
                    <p class="summary-value" id="reportTotalStreak">0</p>
                </div>
            </div>
        </section>

        <!-- Habit Details Table -->
        <section class="report-section">
            <h3>Habit Details</h3>
            <table class="report-table">
                <thead>
                    <tr>
                        <th>Habit Name</th>
                        <th>Status</th>
                        <th>Current Streak</th>
                        <th>Last Completed</th>
                    </tr>
                </thead>
                <tbody id="reportHabitsTable">
                    <!-- Habits will be loaded here -->
                </tbody>
            </table>
        </section>

        <!-- Chart Section -->
        <section class="report-section">
            <h3>Weekly Progress Chart</h3>
            <div class="chart-container">
                <canvas id="reportChart"></canvas>
            </div>
        </section>

        <!-- Footer -->
        <div class="report-footer">
            <p>Generated by Daily Habit Tracker - <span id="footerDate"></span></p>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    
    <!-- App Scripts -->
    <script src="js/firebase.js"></script>
    <script src="js/report.js"></script>
</body>
</html>